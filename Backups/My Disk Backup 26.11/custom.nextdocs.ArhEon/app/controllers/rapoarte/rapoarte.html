<div class="container" ng-controller="Rapoarte as ctrl">
    <div class="box-border">
        <form name="frmRapoarte" class="hide-css-required" ng-submit="submitForm()" novalidate>
            <table class="full-width mt6" id="tableForm">
                <tr>
                    <td colspan="6" class="cBlue1 text-left"><span>Rapoarte</span></td>
                </tr>

                <tr>
                    <td colspan="6">
                        <div class="arh-table-wrapper">
                            <table class="table table-sm table-striped table-hover align-middle">
                                <thead class="table-dark">
                                    <tr>
                                        <th>Nr. crt.</th>
                                        <th>Nr. comanda</th>
                                        <th>Tip operatiune</th>
                                        <th>Data solicitare</th>
                                        <th>Departament solicitant</th>
                                        <th>Status</th>
                                        <th>CRC</th>
                                        <th>Termen livrare</th>
                                        <th>Observatii</th>
                                        <th>User</th>
                                        <th>
										<button class="btn-icon" title="Export Excel" ng-click="ctrl.exportRaportToXlsx()">
                                            <i class="elo-icon elo-icon-referenceElement mt-0" style="width: 15px; height: 15px;display: block;"></i>
                                        </button></th>
                                    </tr>

                                    <!--filtre -->
                                    <tr>
                                       <td class="text-center" style="align-content:center">
                                            <button class="btn-icon" title="Sterge filtre" ng-click="ctrl.clearFilters()">
                                                <i class="elo-icon elo-icon-delete mt-0" style="width: 15px; height: 15px;display: block;"></i>
                                            </button>
                                        </td>
                                        <td><input type="text" ng-model="ctrl.filters.numar_comanda" placeholder="Căuta..." class="form-control form-control-sm"></td>
                                        <td><input type="text" ng-model="ctrl.filters.tip_operatiune" placeholder="Căuta..." class="form-control form-control-sm"></td>
                                        <td><input type="text" ng-model="ctrl.filters.data_solicitare" placeholder="Căuta..." class="form-control form-control-sm"></td>
                                        <td><input type="text" ng-model="ctrl.filters.departament" placeholder="Căuta..." class="form-control form-control-sm"></td>
                                        <td><input type="text" ng-model="ctrl.filters.status" placeholder="Căuta..." class="form-control form-control-sm"></td>
                                        <td><input type="text" ng-model="ctrl.filters.crc" placeholder="Căuta..." class="form-control form-control-sm"></td>
                                        <td><input type="text" ng-model="ctrl.filters.termen_livrare" placeholder="Căuta..." class="form-control form-control-sm"></td>
                                        <td><input type="text" ng-model="ctrl.filters.observatii" placeholder="Căuta..." class="form-control form-control-sm"></td>
                                        <td><input type="text" ng-model="ctrl.filters.user" placeholder="Căuta..." class="form-control form-control-sm"></td>
                                        <td class="text-center" style="align-content:center">
                                            <button class="btn-icon" title="Cauta" ng-click="ctrl.search(true)">
                                                <i class="elo-icon elo-icon-refreshView mt-0" style="width: 15px; height: 15px;display: block;"></i>
                                            </button>
                                        </td>
                                    </tr>

                                </thead>

                                <tbody>
                                    <tr ng-repeat="comanda in ctrl.comenzi track by $index">
                                        <td>{{ ctrl.pagination.pageIndex * ctrl.pagination.pageSize + $index + 1}}</td>
                                        <td>{{ comanda.numar_comanda }}</td>
                                        <td>{{ comanda.tip_operatiune }}</td>
                                        <td>{{ comanda.data_solicitare }}</td>
                                        <td>{{ comanda.departament }}</td>
                                        <td>{{ comanda.status }}</td>
                                        <td>{{ comanda.crc }}</td>
                                        <td>{{ comanda.termen_livrare }}</td>
                                        <td>{{ comanda.observatii }}</td>
                                        <td>{{ comanda.user }}</td>
                                        <td class="text-center">
                                            <!-- <button class="btn-icon" title="Vizualizeaza" ng-click="ctrl.vizualizareComanda(comanda)"> -->
                                                <!-- <i class="elo-icon elo-icon-newVersion mt-0" style="width: 15px; height: 15px;display: block;"></i> -->
                                            <!-- </button> -->
                                        </td>
                                    </tr>

                                    <tr ng-if="!ctrl.comenzi || !ctrl.comenzi.length">
                                        <td colspan="11" class="text-center">
                                            Nu exista inregistrari.
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <!-- Pagination controls -->
                        <div class="arh-pager" ng-if="ctrl.pagination.total > ctrl.pagination.pageSize">
                            <!-- Pagina și butoane de navigare -->
                            <div class="arh-page-size">
                                <label style="margin-bottom:0; font-weight: normal;">
                                    Elemente pe pagina:
                                    <select class="form-control input-sm page-size-select"
                                            ng-model="ctrl.pagination.pageSize" ng-options="s for s in [5, 10, 15, 20, 25]"
                                            ng-change="ctrl.changePageSize()">
                                    </select>
                                </label>
                            </div>

                            <div class="arh-page-info">
                                Pagina {{ ctrl.pagination.pageIndex + 1 }} din {{ ctrl.totalPages() }} ({{ ctrl.pagination.total }} rezultate)
                            </div>

                            <div class="arh-page-buttons">
                                <button type="button" class="btn btn-default btn-sm" ng-click="ctrl.prevPage()"
                                        ng-disabled="!ctrl.canPrev()">« Inapoi</button>
                                <button type="button" class="btn btn-default btn-sm" ng-click="ctrl.nextPage()"
                                        ng-disabled="!ctrl.canNext()">Inainte »</button>
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
        </form>
    </div>
</div>
